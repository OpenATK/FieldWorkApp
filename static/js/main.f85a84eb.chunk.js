(this["webpackJsonpfield-work"]=this["webpackJsonpfield-work"]||[]).push([[0],{1004:function(e,a,n){"use strict";n.r(a);var t={};n.r(t),n.d(t,"state",(function(){return he})),n.d(t,"actions",(function(){return be}));var o={};n.r(o),n.d(o,"state",(function(){return xe})),n.d(o,"actions",(function(){return je})),n.d(o,"effects",(function(){return Ie}));var r=n(0),i=n.n(r),c=n(23),s=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(581),n(582),n(583);var l,d,u=n(34),p=n(1074),f=n(1075),m=(n(584),n(231)),v=n(557),g=n(1),w=n.n(g),h=n(63),b=n(234),y=n.n(b),O={open:!1,fieldId:function(e,a){return Object(h.a)(e),w.a.get(a,"view.Map.selectedField")},field:function(e,a){var n=e.fieldId,t=w.a.get(a,"view.TopBar.OperationDropdown.selectedOperation");if(null==t||null==t.fields||null==n)return null;var o=w.a.get(t.fields[n],"status"),r=null;if(1==w.a.get(a,"app.OADAManager.connected")){var i=w.a.get(a,"app.OADAManager.currentConnection");r=w.a.get(a,"app.oada.".concat(i,".bookmarks.seasons.2019.fields.").concat(n))}else r=w.a.get(a,"app.localData.abc123.seasons.2019.fields.".concat(n));if(null==r)return null;var c=247105e-9*y.a.geometry(r.boundary);return w.a.merge({},r,{status:o,acres:c})},farm:function(e,a){var n=e.field,t=null;if(1==w.a.get(a,"app.OADAManager.connected")){var o=w.a.get(a,"app.OADAManager.currentConnection");if(w.a.get(n,"farm._id")){var r=w.a.get(a,"app.oadaSeasonFarmsIdBy_id.".concat(w.a.get(n,"farm._id"),".id"));t=w.a.get(a,"app.oada.".concat(o,".bookmarks.seasons.2019.farms.").concat(r))}}else w.a.get(n,"farm.id")&&(t=w.a.get(a,"app.localData.abc123.seasons.2019.farms.".concat(n.farm.id)));return t}},D=n(49),k=n.n(D),E={bookmarks:{_type:"application/vnd.oada.bookmarks.1+json",_rev:0,fields:{_type:"application/vnd.oada.fields.1+json",_rev:0,fields:{"*":{_type:"application/vnd.oada.field.1+json",_rev:0,farm:{_type:"application/vnd.oada.farm.1+json"}}},farms:{"*":{_type:"application/vnd.oada.farm.1+json",_rev:0}}},seasons:{_type:"application/vnd.oada.seasons.1+json",_rev:0,"*":{_type:"application/vnd.oada.season.1+json",_rev:0,fields:{_type:"application/vnd.oada.fields.1+json",_rev:0,"*":{_type:"application/vnd.oada.field.1+json",_rev:0,operations:{_type:"application/vnd.oada.operations.1+json",_rev:0,"*":{_type:"application/vnd.oada.operation.1+json",_rev:0}}}},farms:{_type:"application/vnd.oada.farms.1+json",_rev:0,"*":{_type:"application/vnd.oada.farm.1+json",_rev:0}},operations:{_type:"application/vnd.oada.operations.1+json",_rev:0,"*":{_type:"application/vnd.oada.operation.1+json",_rev:0}}}}}},A=O,M={open:function(e){e.state.view.FieldDetails.open=!0},close:function(e){e.state.view.FieldDetails.open=!1},changeOADAFieldStatus:function(e,a){var n=e.state,t=e.actions,o=w.a.get(n,"view.Map.selectedField"),r=w.a.get(n,"view.TopBar.OperationDropdown.selectedOperationId"),i=w.a.get(n,"app.OADAManager.currentConnection"),c=w.a.clone(w.a.get(n,"app.oada.".concat(i,".bookmarks.seasons.2019.operations.").concat(r,".fields.").concat(o)))||{},s=a;if(c.status==a&&(s=null),c.status=s,null==c.status){var l=[{type:"application/vnd.oada.operation.1+json",path:"/bookmarks/seasons/2019/operations/".concat(r,"/fields/").concat(o)},{type:"application/vnd.oada.field.1+json",path:"/bookmarks/seasons/2019/fields/".concat(o,"/operations/").concat(r)}];return t.app.oada.delete({requests:l,connection_id:i})}var d=w.a.get(n,"view.TopBar.OperationDropdown.selectedOperation"),u=[{tree:E,data:c,type:"application/vnd.oada.operation.1+json",path:"/bookmarks/seasons/2019/operations/".concat(r,"/fields/").concat(o)},{tree:E,data:{_id:d._id},type:"application/vnd.oada.field.1+json",path:"/bookmarks/seasons/2019/fields/".concat(o,"/operations/").concat(r)}];return t.app.oada.put({requests:u,connection_id:i})},changeLocalFieldStatus:function(e,a){var n=e.state,t=(n.view.FieldDetails,w.a.get(n,"view.Map.selectedField")),o=w.a.get(n,"view.TopBar.OperationDropdown.selectedOperationId"),r=w.a.clone(w.a.get(n,"app.localData.abc123.seasons.2019.operations.".concat(o,".fields.").concat(t)))||{},i=a;r.status==a&&(i=null),r.status=i,null==r.status?(w.a.unset(n,"app.localData.abc123.seasons.2019.operations.".concat(o,".fields.").concat(t)),w.a.unset(n,"app.localData.abc123.seasons.2019.fields.".concat(t,".operations.").concat(o))):(w.a.set(n,"app.localData.abc123.seasons.2019.operations.".concat(o,".fields.").concat(t),r),null==w.a.get(n,"app.localData.abc123.seasons.2019.fields.".concat(t,".operations"))&&w.a.set(n,"app.localData.abc123.seasons.2019.fields.".concat(t,".operations"),{}),w.a.set(n,"app.localData.abc123.seasons.2019.fields.".concat(t,".operations.").concat(o),{}))},onStatusChange:function(e,a){var n=e.state,t=e.actions,o=a.status,r=t.view.FieldDetails;n.app.OADAManager.connected?r.changeOADAFieldStatus(o):r.changeLocalFieldStatus(o)}},F={open:!1,selectedField:null},C={},S={fieldStyles:{},selectedField:null,editingField:null,fields:function(e,a){Object(h.a)(e);var n=w.a.get(a,"view.Map.fieldStyles"),t=w.a.get(a,"view.Map.editingField"),o=(w.a.get(a,"view.Map.BoundaryDrawing.drawing"),w.a.get(a,"view.TopBar.OperationDropdown.selectedOperation")),r=w.a.get(a,"app.seasonFields");return w.a.mapValues(r,(function(e,a){if(w.a.startsWith(a,"_"))return!1;if(t==a)return!1;var r=w.a.clone(e);if(null!=n[a]&&(r.style=n[a]),o){var i="white";o.fields&&o.fields[a]&&("planned"==o.fields[a].status&&(i="red"),"started"==o.fields[a].status&&(i="orange"),"done"==o.fields[a].status&&(i="green")),r.style=w.a.merge({},r.style,{fillColor:i,color:i})}return r}))}},x=n(15),j=n.n(x),I=n(35),N=n(58),B=n.n(N),_={styleField:{highlight:function(e,a){var n=e.state;if(a){var t=w.a.get(n,"view.Map");w.a.set(t,"fieldStyles.".concat(a),{weight:5})}},unhighlight:function(e,a){var n=e.state;if(a){var t=w.a.get(n,"view.Map");w.a.set(t,"fieldStyles.".concat(a),{weight:3})}}},unselectField:function(e){return Object(I.a)(j.a.mark((function a(){var n,t,o,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.state,t=e.actions,o=w.a.get(t,"view.Map"),!(r=w.a.get(n,"view.Map")).selectedField){a.next=9;break}return t.view.FieldDetails.close(),o.styleField.unhighlight(r.selectedField),a.next=8,B.a.delay(200);case 8:r.selectedField=null;case 9:case"end":return a.stop()}}),a)})))()},onFieldClick:function(e,a){var n=e.state,t=e.actions,o=a.id,r=w.a.get(t,"view.Map"),i=w.a.get(n,"view.Map");w.a.get(i,"BoundaryDrawing.drawing")||(r.styleField.unhighlight(i.selectedField),i.selectedField=o,r.styleField.highlight(o),t.view.FieldDetails.open())},onMapClick:function(e,a){var n=e.actions,t=w.a.get(n,"view.Map");t.unselectField(),t.BoundaryDrawing.onMapClick(a)}},T=n(47),R={boundary:{},drawing:!1},Z={addPointToBoundary:function(e,a){var n=e.state.view.Map.BoundaryDrawing;w.a.set(n,"boundary.".concat(k()()),[a.lat,a.lng])},updateBoundaryPoint:Object(T.h)(Object(T.d)(10),Object(T.g)((function(e,a){var n=e.state.view.Map.BoundaryDrawing;w.a.set(n,"boundary.".concat(a.id),[a.latlng.lat,a.latlng.lng])}))),onMapClick:function(e,a){var n=e.state,t=e.actions,o=a.lat,r=a.lng,i=n.view.Map.BoundaryDrawing,c=t.view.Map.BoundaryDrawing;i.drawing&&c.addPointToBoundary({lat:o,lng:r})},onMarkerMove:function(e,a){e.actions.view.Map.BoundaryDrawing.updateBoundaryPoint(a)},onStartDrawing:function(e,a){var n=e.state.view.Map.BoundaryDrawing;n.boundary=(a||{}).boundary||{},n.drawing=!0},onStopDrawing:function(e,a){var n=e.state.view.Map.BoundaryDrawing;n.drawing=!1,n.boundary={}}},W=Object(u.a)({BoundaryDrawing:R},S),G=Object(u.a)({BoundaryDrawing:Z},_),V={OPTIONS:{redirect:d="http://openatk.com/FieldWorkApp/oauth2/redirect.html",metadata:l="eyJqa3UiOiJodHRwczovL2lkZW50aXR5Lm9hZGEtZGV2LmNvbS9jZXJ0cyIsImtpZCI6ImtqY1NjamMzMmR3SlhYTEpEczNyMTI0c2ExIiwidHlwIjoiSldUIiwiYWxnIjoiUlMyNTYifQ.eyJyZWRpcmVjdF91cmlzIjpbImh0dHA6Ly9vcGVuYXRrLmNvbS9GaWVsZFdvcmtBcHAvb2F1dGgyL3JlZGlyZWN0Lmh0bWwiLCJodHRwOi8vbG9jYWxob3N0L29hdXRoMi9yZWRpcmVjdC5odG1sIl0sInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidXJuOmlldGY6cGFyYW1zOm9hdXRoOmNsaWVudC1hc3NlcnRpb24tdHlwZTpqd3QtYmVhcmVyIiwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIl0sInJlc3BvbnNlX3R5cGVzIjpbInRva2VuIiwiY29kZSIsImlkX3Rva2VuIiwiaWRfdG9rZW4gdG9rZW4iLCJjb2RlIGlkX3Rva2VuIiwiY29kZSB0b2tlbiIsImNvZGUgaWRfdG9rZW4gdG9rZW4iXSwiY2xpZW50X25hbWUiOiJPcGVuQVRLIiwiY2xpZW50X3VyaSI6Imh0dHA6Ly9vcGVuYXRrLmNvbSIsImNvbnRhY3RzIjpbIlNhbSBOb2VsIDxzYW5vZWxAcHVyZHVlLmVkdT4iXSwiandrcyI6eyJrZXlzIjpbeyJrdHkiOiJSU0EiLCJuIjoiemF1WkZCdU1kbHYxa1lqelViNHEtXzNtNHNtRnhuZnc0U1lvYUhxN2NpOFNjdFkzeGo3cmRBSHlrUXBuUVZyajZLTzhtYUh2LTBCdlc1TWhjZ2l2a3VZcy16SEV2ZllCZVZCbmN2SGdPa0pQYmM5MUN3X2l3T1k3RUhXQjhoTTdWaUxRVmNfRHYwaDhuSnliQnZoTDA0Q0hRdDdDcE10VllHNmZvSlhjM2RxNTJqTlFiQkhJWjVtN1Z6MUt0eXpvTGNwOE8ybWhhTHA0NVVyM0NfMWVHdHY4bjVOejliV19CaDVYRlliRHh2N0JuaFpOSXcxR0NiampBd210Ym5uTDdHZ2Y0Q3k2MHdSSG1SNHZvZTIxT0lqb0FTcTJqWjAzeDEybVhzN0hQSTNZQjR5Mjl3dlpNdzJnTHpPZFRvcnJxTy10bG1uMWJvUGtXS0pKU1hvQXZ3IiwiZSI6IkFRQUIifV19LCJzb2Z0d2FyZV9pZCI6ImE3MDNiZmRjLTNmYTEtNDk5Zi1iOTA1LTExZjBiNTRmMzgwNyIsInJlZ2lzdHJhdGlvbl9wcm92aWRlciI6Imh0dHBzOi8vaWRlbnRpdHkub2FkYS1kZXYuY29tIiwiaWF0IjoxNTMzODQ2MTEyfQ.Y9BlbqHzOvufADGAW9HG4Yx2rqbg6zPalpcjSS_97Mpg36lOuADGJ4YTQ2iQfRlZjzqBi1sUq3iFhReBfk89Oy2nSEY6RVPnONK5v6a73jce3xGPUWk8DDl3rf3lcrt-IqWFoAieUie7WK5nrPFIe-_xcgYdChnuGrugjO9dGOY",scope:"oada.yield:all"},REDIRECT:d,METADATA:l,SCOPE:"oada.yield:all",oadaDomain:""},P={OADADomain:{open:!1,domain:V.oadaDomain}},z={OADADomain:{open:function(e){e.state.view.Modals.OADADomain.open=!0},close:function(e){e.state.view.Modals.OADADomain.open=!1},onConnectClick:function(e){e.actions.view.Modals.OADADomain.open()},onDomainChange:function(e,a){var n=e.state,t=a.domain;n.view.Modals.OADADomain.domain=t},onConnect:function(e){return Object(I.a)(j.a.mark((function a(){var n,t,o,r,i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.actions,t=e.state,o=t.view.Modals.OADADomain,r=n.view.Modals.OADADomain,i=o.domain,o.loading=!0,a.next=7,n.app.OADAManager.onDomainChanged({domain:i});case 7:o.loading=!1,r.close();case 9:case"end":return a.stop()}}),a)})))()},onCancel:function(e){e.actions.view.Modals.OADADomain.close()}}};function H(e){return{type:"Polygon",coordinates:[w.a.map(e,(function(e){return[e[1],e[0]]}))]}}function L(e,a){var n=e.state,t=e.actions,o=a.fieldId,r=a.newBoundary,i=a.farmId,c=a.farm_id,s=a.seasonFarm_id,l=n.view.Modals.SaveField,d=t.app.getSeasonField(o),u=l.name,p={},f={};return u!=d.name&&(p.name=u),0==w.a.isEqual(r,d.boundary)&&(p.boundary=r),f=w.a.cloneDeep(p),s?d.farm&&d.farm._id==s||(p.farm={_id:s},f.farm={_id:c}):d.farm&&d.farm.id==i||(p.farm={id:i},f.farm={id:i}),{fieldChanges:f,seasonFieldChanges:p}}function Y(e,a,n,t){var o=e.state;if(!w.a.isEmpty(n)||!w.a.isEmpty(t)){var r="app.localData.abc123.fields.fields.".concat(a);w.a.set(o,r,w.a.merge({},w.a.get(o,r),n));var i="app.localData.abc123.seasons.2019.fields.".concat(a);w.a.set(o,i,w.a.merge({},w.a.get(o,i),t))}}function X(e,a,n,t){return J.apply(this,arguments)}function J(){return(J=Object(I.a)(j.a.mark((function e(a,n,t,o){var r,i,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.state,i=a.actions,!w.a.isEmpty(t)||!w.a.isEmpty(o)){e.next=3;break}return e.abrupt("return");case 3:return c=[],0==w.a.isEmpty(t)&&c.push({tree:E,data:t,path:"/bookmarks/fields/fields/".concat(n)}),0==w.a.isEmpty(o)&&c.push({tree:E,data:o,path:"/bookmarks/seasons/2019/fields/".concat(n)}),console.log("fieldChanges",t),console.log("seasonFieldChanges",o),s=w.a.get(r,"app.OADAManager.currentConnection"),e.next=11,i.app.oada.put({requests:c,connection_id:s});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,a){var n=a.boundary,t=a.farmId,o=a.farm_id;return{name:e.state.view.Modals.SaveField.name,boundary:n,farm:o?{_id:o}:{id:t}}}function q(e,a){var n=a.field,t=e.state,o=k()();return w.a.set(t,"app.localData.abc123.fields.fields.".concat(o),n),w.a.set(t,"app.localData.abc123.seasons.2019.fields.".concat(o),Object(u.a)({},n,{operations:{},year:"2019"})),o}function Q(e,a){return K.apply(this,arguments)}function K(){return(K=Object(I.a)(j.a.mark((function e(a,n){var t,o,r,i,c,s,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.field,o=n.seasonField,r=a.state,i=a.actions,c=k()(),s=[],t&&s.push({tree:E,data:t,path:"/bookmarks/fields/fields/".concat(c)}),o&&s.push({tree:E,data:Object(u.a)({},o,{operations:{},year:"2019"}),path:"/bookmarks/seasons/2019/fields/".concat(c)}),l=w.a.get(r,"app.OADAManager.currentConnection"),e.next=9,i.app.oada.put({requests:s,connection_id:l});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $={open:!1,name:"",farmSearch:"",farms:function(e,a){var n=e.farmSearch;return w.a.compact(w.a.map(a.app.seasonFarms,(function(e,a){return!e||""!=n&&e.name&&-1==e.name.toLowerCase().search(n.toLowerCase())?null:{key:a,text:e.name,value:a}})))},farmId:null,farm:function(e,a){var n=e.farmId;e.farms;if(n)return w.a.get(a,"app.seasonFarms.".concat(n))}},ee={open:function(e){var a=e.state,n=e.actions,t=a.view.Modals.SaveField,o=w.a.get(a,"view.Map.editingField");if(null==o)t.name="";else{var r=n.app.getSeasonField(o);if(t.name=r.name,a.app.OADAManager.connected){var i=w.a.get(a,"app.oadaSeasonFarmsIdBy_id.".concat(w.a.get(r,"farm._id"),".id"));t.farmId=i}else t.farmId=w.a.get(r,"farm.id")}t.open=!0},close:function(e){e.state.view.Modals.SaveField.open=!1},saveField:function(e){return Object(I.a)(j.a.mark((function a(){var n,t,o,r,i,c,s,l,d,u,p,f,m,v,g;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.state,t=n.view.Modals.SaveField,o=w.a.get(n,"view.Map.BoundaryDrawing.boundary"),r=H(o),i=t.farmId,c=null,s=null,(l=t.farm)&&n.app.OADAManager.connected&&(c=w.a.get(n,"app.oadaOrgData.fields.farms.".concat(i,"._id")),s=w.a.get(n,"app.seasonFarms.".concat(i,"._id"))),!(d=w.a.get(n,"view.Map.editingField"))){a.next=15;break}u=L(e,{fieldId:d,newBoundary:r,farmId:i,farm_id:c,seasonFarm_id:s}),p=u.fieldChanges,f=u.seasonFieldChanges,n.app.OADAManager.connected?X(e,d,p,f):Y(e,d,p,f),a.next=31;break;case 15:if(!n.app.OADAManager.connected){a.next=26;break}return a.next=18,U(e,{boundary:r,farm_id:c});case 18:return m=a.sent,a.next=21,U(e,{boundary:r,farm_id:s});case 21:return v=a.sent,a.next=24,Q(e,{field:m,seasonField:v});case 24:a.next=31;break;case 26:return a.next=28,U(e,{boundary:r,farm:l,farmId:i});case 28:return g=a.sent,a.next=31,q(e,{field:g});case 31:case"end":return a.stop()}}),a)})))()},onSave:function(e){var a=e.actions,n=e.state,t=a.view.Modals.SaveField;t.saveField(),a.view.Map.BoundaryDrawing.onStopDrawing(),n.view.Map.editingField=null,t.close()},onCancel:function(e){var a=e.actions,n=e.state,t=a.view.Modals.SaveField;a.view.Map.BoundaryDrawing.onStopDrawing(),n.view.Map.editingField=null,t.close()},onNameChange:function(e,a){var n=e.state,t=a.name;n.view.Modals.SaveField.name=t},onFarmSearchChange:function(e,a){e.state.view.Modals.SaveField.farmSearch=a},onFarmChange:function(e,a){var n=e.state,t=a.id;n.view.Modals.SaveField.farmId=t},onFarmAdd:function(e){e.actions.view.Modals.NewFarm.open({callbackAction:"view.Modals.SaveField.onFarmAddComplete"})},onFarmAddComplete:function(e,a){var n=e.state,t=a.id;n.view.Modals.SaveField.farmId=t}};function ae(e,a){var n=e.state,t=a.operation,o=k()();return w.a.set(n,"app.localData.abc123.seasons.2019.operations.".concat(o),t),o}function ne(e,a){return te.apply(this,arguments)}function te(){return(te=Object(I.a)(j.a.mark((function e(a,n){var t,o,r,i,c,s,l,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,o=a.actions,r=n.operation,i=k()(),c=[{tree:E,data:r,path:"/bookmarks/seasons/2019/operations/".concat(i)}],s=w.a.get(t,"app.OADAManager.currentConnection"),e.next=7,o.app.oada.put({requests:c,connection_id:s});case 7:return l=e.sent,d=w.a.get(l,"responses.0.headers.content-location").substr(1),e.abrupt("return",{id:i,_id:d});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe={open:!1,name:""},re={open:function(e){var a=e.state.view.Modals.NewOperation;a.name="",a.open=!0},close:function(e){e.state.view.Modals.NewOperation.open=!1},saveOperation:function(e){return Object(I.a)(j.a.mark((function a(){var n,t,o,r,i,c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.state,t=n.view.Modals.NewOperation,s={name:t.name},o={name:s.name,fields:{}},!n.app.OADAManager.connected){a.next=12;break}return a.next=6,ne(e,{operation:o});case 6:r=a.sent,i=r.id,r._id,w.a.set(n,"view.TopBar.OperationDropdown.selected",i),a.next=16;break;case 12:return a.next=14,ae(e,{operation:o});case 14:c=a.sent,w.a.set(n,"view.TopBar.OperationDropdown.selected",c);case 16:case"end":return a.stop()}var s}),a)})))()},onNameChange:function(e,a){var n=e.state,t=a.name;n.view.Modals.NewOperation.name=t},onCancel:function(e){e.actions.view.Modals.NewOperation.close()},onSave:function(e){return Object(I.a)(j.a.mark((function a(){var n,t;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.actions,t=n.view.Modals.NewOperation,a.next=4,t.saveOperation();case 4:t.close();case 5:case"end":return a.stop()}}),a)})))()}};function ie(e,a){var n=a.farm,t=e.state,o=k()();return w.a.set(t,"app.localData.abc123.farms.".concat(o),n),w.a.set(t,"app.localData.abc123.seasons.2019.farms.".concat(o),n),o}function ce(e,a){return se.apply(this,arguments)}function se(){return(se=Object(I.a)(j.a.mark((function e(a,n){var t,o,r,i,c,s,l,d,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.farm,o=a.state,r=a.actions,i=k()(),c=[{tree:E,data:t,path:"/bookmarks/fields/farms/".concat(i)},{tree:E,data:t,path:"/bookmarks/seasons/2019/farms/".concat(i)}],s=w.a.get(o,"app.OADAManager.currentConnection"),e.next=7,r.app.oada.put({requests:c,connection_id:s});case 7:if(l=e.sent,null!=(d=w.a.get(l,"responses.0.headers.content-location").substr(1))){e.next=11;break}throw"OADA did not return an _id when creating a farm.";case 11:if(null!=(u=w.a.get(l,"responses.1.headers.content-location").substr(1))){e.next=14;break}throw"OADA did not return an _id when creating a season farm.";case 14:return e.abrupt("return",{farm_id:d,seasonFarm_id:u,id:i});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le={open:!1,name:""},de={open:function(e,a){var n=e.state,t=a.callbackAction,o=n.view.Modals.NewFarm;o.name="",o.open=!0,o.callbackAction=t||null},close:function(e){e.state.view.Modals.NewFarm.open=!1},saveFarm:function(e){return Object(I.a)(j.a.mark((function a(){var n,t,o,r,i,c,s,l,d,u,p;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.state,t=e.actions,o=n.view.Modals.NewFarm,f={name:o.name},r={name:f.name},!n.app.OADAManager.connected){a.next=17;break}return a.next=6,ce(e,{farm:r});case 6:if(i=a.sent,c=i.farm_id,s=i.seasonFarm_id,l=i.id,!o.callbackAction){a.next=15;break}if(d=w.a.get(t,o.callbackAction)){a.next=14;break}throw"callbackAction: ".concat(o.callbackAction," does not exist.");case 14:d({farm_id:c,seasonFarm_id:s,id:l});case 15:a.next=25;break;case 17:return a.next=19,ie(e,{farm:r});case 19:if(u=a.sent,!o.callbackAction){a.next=25;break}if(p=w.a.get(t,o.callbackAction)){a.next=24;break}throw"callbackAction: ".concat(o.callbackAction," does not exist.");case 24:p({id:u});case 25:case"end":return a.stop()}var f}),a)})))()},onNameChange:function(e,a){var n=e.state,t=a.name;n.view.Modals.NewFarm.name=t},onCancel:function(e){e.actions.view.Modals.NewFarm.close()},onSave:function(e){return Object(I.a)(j.a.mark((function a(){var n,t;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.actions,t=n.view.Modals.NewFarm,a.next=4,t.saveFarm();case 4:t.close();case 5:case"end":return a.stop()}}),a)})))()}},ue=Object(u.a)({SaveField:$,NewOperation:oe,NewFarm:le},P),pe=Object(u.a)({SaveField:ee,NewOperation:re,NewFarm:de},z),fe={onAddField:function(e){e.actions.view.Map.BoundaryDrawing.onStartDrawing()},onSaveField:function(e){e.actions.view.Modals.SaveField.open()},onCancelField:function(e){var a=e.state,n=e.actions;a.view.Map.editingField=null,n.view.Map.BoundaryDrawing.onStopDrawing()},onConnect:function(e){e.actions.view.Modals.OADADomain.open()},onEditField:function(e){var a=e.actions,n=e.state,t=n.view.FieldDetails.field;n.view.Map.editingField=n.view.FieldDetails.fieldId;var o={};w.a.forEach(w.a.get(t,"boundary.coordinates.0")||[],(function(e){o[k()()]=[e[1],e[0]]})),a.view.Map.BoundaryDrawing.onStartDrawing({boundary:o}),a.view.Map.unselectField()},onResetCache:function(e){return Object(I.a)(j.a.mark((function a(){var n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.actions,a.next=3,n.app.oada.resetCache();case 3:case"end":return a.stop()}}),a)})))()}},me={open:!1,selected:null,search:"",list:function(e,a){var n=e.selected,t=e.operations,o=w.a.get(a,"view.TopBar.OperationDropdown.search");return w.a.omitBy(w.a.mapValues(t,(function(e,a){var t=e.name;return null==a||""!=o&&-1==t.search(o)?null:{text:t,value:a,selected:n==a,label:{color:"green",empty:!0,circular:!0}}})),w.a.isEmpty)},operations:function(e,a){Object(h.a)(e);var n=null;if(1==w.a.get(a,"app.OADAManager.connected")){var t=w.a.get(a,"app.OADAManager.currentConnection");n=w.a.omitBy(w.a.get(a,"app.oada.".concat(t,".bookmarks.seasons.2019.operations"))||{},(function(e,a){return w.a.startsWith(a,"_")}))}else n=w.a.get(a,"app.localData.abc123.seasons.2019.operations");return n},selectedOperationId:function(e,a){var n=e.selected,t=e.operations,o=n;return null==o&&w.a.keys(t).length>0&&(o=w.a.keys(t)[0]),o},selectedOperation:function(e,a){var n=e.selectedOperationId;return e.operations[n]}},ve={onAdd:function(e){var a=e.state,n=e.actions;return a.view.TopBar.OperationDropdown.open=!1,n.view.Modals.NewOperation.open()},onChange:function(e,a){var n=e.state,t=a.id,o=n.view.TopBar.OperationDropdown;o.selected=t,o.open=!1},onOpenChange:function(e,a){var n=e.state,t=a.open;n.view.TopBar.OperationDropdown.open=t},onSearch:function(e,a){var n=e.state,t=a.search;n.view.TopBar.OperationDropdown.search=t}},ge=Object(u.a)({OperationDropdown:me},{}),we=Object(u.a)({OperationDropdown:ve},fe),he=Object(u.a)({FieldDetails:A,FieldList:F,Map:W,Modals:ue,TopBar:ge},{}),be=Object(u.a)({FieldDetails:M,FieldList:C,Map:G,Modals:pe,TopBar:we},{}),ye={"42f60b10-784c-11ea-8dfd-a3e960f56105":{name:"1004 G-N",boundary:{type:"Polygon",coordinates:[[[-84.97584700584412,41.4628134964027],[-84.97539639472963,41.462765256171906],[-84.97495651245119,41.46275721612994],[-84.97424840927125,41.46250797433487],[-84.97405529022217,41.46203360827181],[-84.97410893440247,41.46044164256161],[-84.97139453887941,41.46130195211675],[-84.96770381927492,41.46327177680542],[-84.97010707855226,41.46330393671208],[-84.9764907360077,41.46306273702346],[-84.97634053230287,41.45965368547904],[-84.97462391853334,41.46024867436535],[-84.9746346473694,41.461004463187685],[-84.97491359710695,41.46126175098986],[-84.97492432594301,41.46172004235903],[-84.97529983520509,41.46208988917259],[-84.97581481933594,41.46234717266838],[-84.9761688709259,41.46278133625282]]]},farm:{id:"42f08cd0-784c-11ea-8dfd-a3e960f56105"}},"7c0ce950-784c-11ea-bfa5-97fea4f9bfd9":{name:"1001 HO-N",boundary:{type:"Polygon",coordinates:[[[-84.97347593307495,41.44864540647965],[-84.97626543045044,41.44856498851091],[-84.97617959976196,41.44784122230691],[-84.977445602417,41.44782513852177],[-84.97759580612183,41.44862932289387],[-84.97886180877687,41.448532821295515],[-84.97866868972778,41.44205080201176],[-84.97654438018799,41.442887227983185],[-84.97549295425415,41.44425443952937],[-84.97323989868165,41.44608806625952],[-84.97272491455078,41.44689227216232],[-84.97330427169801,41.44726220353039]]]},farm:{id:"42f08cd0-784c-11ea-8dfd-a3e960f56105"}},"8ab27420-784c-11ea-bfa5-97fea4f9bfd9":{name:"1002 HO-S",boundary:{type:"Polygon",coordinates:[[[-84.97152328491212,41.44697269220437],[-84.97148036956789,41.44166475561947],[-84.97152328491212,41.44111785263252],[-84.97347593307495,41.441085681725035],[-84.97373342514038,41.44073180069027],[-84.97635126113893,41.44053877385792],[-84.97645854949953,41.44134304853828],[-84.97607231140138,41.44161649965898],[-84.97611522674562,41.44240467585386],[-84.97540712356569,41.44398099952468]]]},farm:{id:"42f08cd0-784c-11ea-8dfd-a3e960f56105"}}},Oe={"42f08cd0-784c-11ea-8dfd-a3e960f56105":{name:"Bowman and Bowman"},"52f08cd0-784c-11ea-8dfd-a3e960f56105":{name:"Martz Farms"}},De={acresStatus:function(e,a){Object(h.a)(e);var n=a.app.operationFields,t=a.app.seasonFields,o=0,r=0,i=0;w.a.forEach(n,(function(e,a){if(null!=e){var n=t[a];if(null!=n){var c=247105e-9*y.a.geometry(n.boundary);"planned"==e.status?o+=c:"started"==e.status?r+=c:"done"==e.status&&(i+=c)}}}));var c=o+r+i;return{planned:Math.round(o),plannedPercentage:Math.round(o/(c||1)*100),started:Math.round(r),startedPercentage:Math.round(r/(c||1)*100),done:Math.round(i),donePercentage:Math.round(i/(c||1)*100)}},seasonFarms:function(e,a){var n;if(Object(h.a)(e),1==w.a.get(a,"app.OADAManager.connected")){var t=w.a.get(a,"app.OADAManager.currentConnection");n=w.a.chain(a).get("app.oada.".concat(t,".bookmarks.seasons.2019.farms")).omitBy((function(e,a){if(w.a.startsWith(a,"_"))return!0})).value()}else n=w.a.get(a,"app.localData.abc123.seasons.2019.farms");return n||{}},seasonFields:function(e,a){var n;if(Object(h.a)(e),1==w.a.get(a,"app.OADAManager.connected")){var t=w.a.get(a,"app.OADAManager.currentConnection");n=w.a.chain(a).get("app.oada.".concat(t,".bookmarks.seasons.2019.fields")).omitBy((function(e,a){if(w.a.startsWith(a,"_"))return!0})).value()}else n=w.a.get(a,"app.localData.abc123.seasons.2019.fields");return n||{}},operationFields:function(e,a){Object(h.a)(e);var n=w.a.get(a,"view.TopBar.OperationDropdown.selectedOperationId"),t=[];if(null!=n)if(1==w.a.get(a,"app.OADAManager.connected")){var o=w.a.get(a,"app.OADAManager.currentConnection");t=w.a.get(a,"app.oada.".concat(o,".bookmarks.seasons.2019.operations.").concat(n,".fields"))||[]}else t=w.a.get(a,"app.localData.abc123.seasons.2019.operations.".concat(n,".fields"))||[];return t},currentOADA:function(e,a){if(Object(h.a)(e),a.app.OADAManager.connected){var n=a.app.OADAManager.currentConnection;if(!n)return;return a.app.oada[n]}},oadaOrgData:function(e){var a=e.currentOADA;if(a)return a.bookmarks},oadaSeasonFarmsIdBy_id:function(e,a){var n=e.oadaOrgData;return w.a.chain(n).get("seasons.2019.farms").mapValues((function(e,a){return{_id:e._id,id:a}})).mapKeys((function(e,a){return e._id})).value()},localOrgData:function(e){return e.localData.abc123},localData:{organizations:{abc123:{name:"Default"}},abc123:{fields:{fields:Object(u.a)({},ye),farms:Object(u.a)({},Oe)},seasons:{2019:{fields:Object(u.a)({},ye),farms:Object(u.a)({},Oe),operations:{}}}}}},ke={getSeasonField:function(e,a){var n=e.state,t=[];if(1==w.a.get(n,"app.OADAManager.connected")){var o=w.a.get(n,"app.OADAManager.currentConnection");t=w.a.get(n,"app.oada.".concat(o,".bookmarks.seasons.2019.fields"))}else t=w.a.get(n,"app.localData.abc123.seasons.2019.fields");return t[a]},getSeasonFarm:function(e,a){var n=e.state,t=[];if(1==w.a.get(n,"app.OADAManager.connected")){var o=w.a.get(n,"app.OADAManager.currentConnection");t=w.a.get(n,"app.oada.".concat(o,".bookmarks.seasons.2019.farms"))}else t=w.a.get(n,"app.localData.abc123.seasons.2019.farms");return t[a]}},Ee=n(518),Ae=B.a.promisify(Ee.browser.getAccessToken),Me={connected:!1},Fe={getToken:function(e,a){return Object(I.a)(j.a.mark((function n(){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(h.a)(e),n.next=3,Ae(a.replace(/^https?:\/\//,""),{metadata:V.METADATA,scope:V.SCOPE,redirect:V.REDIRECT});case 3:return t=n.sent,n.abrupt("return",t.access_token);case 5:case"end":return n.stop()}}),n)})))()},connect:function(e,a){return Object(I.a)(j.a.mark((function n(){var t,o,r,i,c,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.actions,o=e.state,e.effects,r=a.domain,i=o.app.OADAManager,c=t.app.OADAManager,n.next=6,c.getToken(r);case 6:return s=n.sent,n.abrupt("return",t.app.oada.connect({token:s,domain:r,options:V.OPTIONS}).then((function(e){return e.error||(i.currentConnection=e.connectionId,i.token=e.token,i.connected=!0,o.view.TopBar.OperationDropdown.selected=null),e})));case 8:case"end":return n.stop()}}),n)})))()},fetchAndWatch:function(e){return Object(I.a)(j.a.mark((function a(){var n,t,o,r,i,c,s,l,d;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.actions,t=e.state,o=t.app.OADAManager,r=o.currentConnection,i=[{path:"/bookmarks/fields",tree:E,watch:{actions:[n.app.OADAManager.onFieldChanged]}},{path:"/bookmarks/seasons",tree:E,watch:{actions:[n.app.OADAManager.onSeasonsChanged]}}],a.next=6,n.app.oada.get({requests:i,connection_id:r});case 6:if(c=a.sent,s=[],!c.responses[0].error){a.next=15;break}if(404==c.responses[0].status){a.next=11;break}throw c.responses[0].error;case 11:return l=[{tree:E,data:{fields:{},farms:{}},path:"/bookmarks/fields"}],a.next=14,n.app.oada.put({requests:l,connection_id:r});case 14:s.push(i[0]);case 15:if(!c.responses[1].error){a.next=22;break}if(404==c.responses[1].status){a.next=18;break}throw c.responses[0].error;case 18:return d=[{tree:E,data:{},path:"/bookmarks/seasons"}],a.next=21,n.app.oada.put({requests:d,connection_id:r});case 21:s.push(i[1]);case 22:if(!(s.length>0)){a.next=25;break}return a.next=25,n.app.oada.get({requests:s,connection_id:r});case 25:case"end":return a.stop()}}),a)})))()},initSeasonFields:function(e){var a=e.state,n=e.actions.app.OADAManager,t=[];return w.a.forEach(w.a.get(a,"app.oadaOrgData.fields.fields"),(function(e,a){w.a.startsWith(a,"_")||t.push({fieldId:a,name:e.name,boundary:e.boundary})})),n.changeSeasonFields(t)},initSeasonFarms:function(e){var a=e.state,n=e.actions.app.OADAManager,t=[];return w.a.forEach(w.a.get(a,"app.oadaOrgData.fields.farms"),(function(e,a){w.a.startsWith(a,"_")||t.push({id:a,name:e.name})})),n.changeSeasonFarms(t)},changeSeasonFields:function(e,a){return Object(I.a)(j.a.mark((function n(){var t,o,r,i,c,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.state,o=e.actions,r=t.app.OADAManager,i=r.currentConnection,c=[],s=t.app.seasonFields,w.a.forEach(a,(function(e){var a={},n=s[e.fieldId];e.name&&(null!=n&&n.name==e.name||(a.name=e.name)),e.boundary&&(null!=n&&0!=w.a.isEqual(n.boundary,e.boundary)||(a.boundary=e.boundary)),w.a.isEmpty(a)||(a.id=e.fieldId,c.push({tree:E,data:a,type:"application/vnd.oada.field.1+json",path:"/bookmarks/seasons/2019/fields/".concat(e.fieldId)}))})),0!=c.length){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,o.app.oada.put({requests:c,connection_id:i});case 10:case"end":return n.stop()}}),n)})))()},changeSeasonFarms:function(e,a){return Object(I.a)(j.a.mark((function n(){var t,o,r,i,c,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.state,o=e.actions,r=t.app.OADAManager,i=r.currentConnection,c=[],s=t.app.seasonFarms,w.a.forEach(a,(function(e){var a={},n=s[e.id];e.name&&(null!=n&&n.name==e.name||(a.name=e.name)),w.a.isEmpty(a)||(a.id=e.id,c.push({tree:E,data:a,type:"application/vnd.oada.farm.1+json",path:"/bookmarks/seasons/2019/farms/".concat(a.id)}))})),0!=c.length){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,o.app.oada.put({requests:c,connection_id:i});case 10:case"end":return n.stop()}}),n)})))()},onDomainChanged:function(e,a){return Object(I.a)(j.a.mark((function n(){var t,o,r,i,c,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.actions,o=e.state,r=a.domain,i=o.app.OADAManager,c=t.app.OADAManager,i.domain=r,n.next=7,c.connect({domain:r});case 7:if(s=n.sent,s.error){n.next=16;break}return n.next=12,c.fetchAndWatch();case 12:return n.next=14,c.initSeasonFarms();case 14:return n.next=16,c.initSeasonFields();case 16:case"end":return n.stop()}}),n)})))()},onFieldChanged:function(e,a){e.state;var n=e.actions.app.OADAManager,t=w.a.get(a,"response.change.type");if("merge"==t){var o=[];return w.a.forEach(w.a.get(a,"response.change.body.data.fields"),(function(e,a){w.a.startsWith(a,"_")||o.push({fieldId:a,name:e.name,boundary:e.boundary})})),n.changeSeasonFields(o)}console.warn("onFieldChanged: Unsupported change type:",t)},onFarmsChanged:function(){console.log("TODO: If a farm in the master list changed, apply change to this years season farm")},onSeasonsChanged:function(e,a){e.state,e.actions}},Ce=n(519),Se=n.n(Ce)()("app.oada"),xe=Object(u.a)({oada:Se.state,OADAManager:Me},De),je=Object(u.a)({oada:Se.actions,OADAManager:Fe},ke),Ie={oada:Se.effects},Ne=Object(v.a)({view:t,app:o}),Be=Object(m.b)(),_e=n(1047),Te=n(1048),Re=n(1049);function Ze(){var e=Be(),a=e.state,n=e.actions,t=a.view.Map.BoundaryDrawing,o=n.view.Map.BoundaryDrawing,r=t.boundary,c=t.drawing,s=o.onMarkerMove;return c?i.a.createElement(_e.a,null,i.a.createElement(Te.a,{positions:w.a.map(r)}),w.a.map(r,(function(e,a){return i.a.createElement(Re.a,{position:e,key:a,draggable:!0,onMove:function(e){var n=e.latlng,t=e.oldLatLng;return s({latlng:n,oldLatLng:t,id:a})}})}))):null}var We=n(1050);function Ge(){var e=Be(),a=e.state,n=e.actions,t=a.view.Map,o=n.view.Map,r=t.fields,c=o.onFieldClick;return 0==w.a.keys(r).length?null:i.a.createElement(_e.a,null,w.a.map(r,(function(e,a){return i.a.createElement(We.a,{bubblingMouseEvents:!1,style:e.style,data:e.boundary,key:k()(),onClick:function(e){c({id:a})}})})))}function Ve(){var e=Be(),a=e.actions,n=(e.state,a.view.Map);return i.a.createElement(p.a,{center:[41.448068,-84.972648],zoom:13,onClick:function(e){return n.onMapClick(Object(u.a)({},e.latlng))},zoomControl:!1},i.a.createElement(f.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles \xa9 Esri \u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),i.a.createElement(Ze,null),i.a.createElement(Ge,null))}var Pe=n(1060),ze=n(1054),He=n(1051),Le=n(1055);function Ye(){var e=Be().actions.view.TopBar;return i.a.createElement(He.a,null,i.a.createElement(ze.a,{style:{flex:1}}),i.a.createElement(Le.a,{color:"inherit",onClick:function(){return e.onCancelField()}},"Cancel"),i.a.createElement(Le.a,{color:"inherit",onClick:function(){return e.onSaveField()}},"Save"))}var Xe=n(1069),Je=n(1056);function Ue(e){var a=e.style,n=Be(),t=n.actions,o=n.state,r=t.view.TopBar.OperationDropdown,c=o.view.TopBar.OperationDropdown,s=c.selectedOperation,l=c.list,d=c.open,u=c.search,p=r.onAdd,f=r.onChange,m=r.onOpenChange,v=r.onSearch;return i.a.createElement(ze.a,{style:a},i.a.createElement(ze.a,{style:{flexDirection:"row"}},s?i.a.createElement(Xe.a,{open:d,onOpen:function(){m({open:!0})},onBlur:function(){m({open:!1})},text:s.name,icon:"filter",floating:!0,labeled:!0,button:!0,className:"icon"},i.a.createElement(Xe.a.Menu,{style:{top:42}},i.a.createElement(Xe.a.Item,{style:{textAlign:"center"},text:"Add New Operation",value:"Add New Operation",onClick:function(e,a){p()}}),i.a.createElement(Je.a,{icon:"search",iconPosition:"left",className:"search",style:{marginTop:3},value:u,onChange:function(e){v({search:e.target.value})}}),i.a.createElement(Xe.a.Menu,{scrolling:!0},w.a.map(l,(function(e){return i.a.createElement(Xe.a.Item,Object.assign({key:e.value},e,{onClick:function(e,a){f({id:a.value})}}))}))))):i.a.createElement(Xe.a,{onClick:function(){p()},open:!1,text:"Add New Operation",icon:"filter",floating:!0,labeled:!0,button:!0,className:"icon"}),i.a.createElement(ze.a,{style:{flex:1}})))}var qe=n(147),Qe=n(1057),Ke=n(548),$e=n.n(Ke),ea=n(1073),aa=n(1059);function na(e){var a=e.style,n=Be(),t=n.actions,o=n.state,r=t.view.TopBar,c=i.a.useState(null),s=Object(qe.a)(c,2),l=s[0],d=s[1];function u(){d(null)}return i.a.createElement(ze.a,{style:a},i.a.createElement(Qe.a,{edge:"end",color:"inherit","aria-label":"Menu",onClick:function(e){d(e.currentTarget)}},i.a.createElement($e.a,null)),i.a.createElement(ea.a,{style:{top:50,right:5},open:Boolean(l),keepMounted:!0,anchorEl:l,onClose:u},i.a.createElement(aa.a,{onClick:function(){u(),r.onAddField()}},"Add Field"),o.view.FieldDetails.open?i.a.createElement(aa.a,{onClick:function(){r.onEditField()}},"Edit Field"):null,i.a.createElement(aa.a,{onClick:function(){u(),r.onConnect()}},"Connect to OADA")))}function ta(e){e.toggleTitle;return i.a.createElement(He.a,null,i.a.createElement(Ue,{style:{flex:1}}),i.a.createElement(na,null))}function oa(){var e=Be().state.view.Map.BoundaryDrawing.drawing;return i.a.createElement(ze.a,{style:{zIndex:1201}},i.a.createElement(Pe.a,{position:"static"},e?i.a.createElement(Ye,null):i.a.createElement(ta,null)))}var ra=n(1072),ia=n(1058),ca=n(1063),sa=n(1007),la=n(1061),da=n(1062),ua=n(335),pa=n.n(ua),fa=n(336),ma=n.n(fa);function va(){return i.a.createElement(ra.a,{open:!1,variant:"persistent"},i.a.createElement(ze.a,{style:{height:64}}),i.a.createElement("div",{style:{width:250},role:"presentation"},i.a.createElement(ia.a,null,["Inbox","Starred","Send email"].map((function(e,a){return i.a.createElement(sa.a,{button:!0,key:e},i.a.createElement(la.a,null,a%2===0?i.a.createElement(pa.a,null):i.a.createElement(ma.a,null)),i.a.createElement(da.a,{primary:e}))}))),i.a.createElement(ca.a,null),i.a.createElement(ia.a,null,["All mail","Trash","Spam"].map((function(e,a){return i.a.createElement(sa.a,{button:!0,key:e},i.a.createElement(la.a,null,a%2===0?i.a.createElement(pa.a,null):i.a.createElement(ma.a,null)),i.a.createElement(da.a,{primary:e}))})))))}var ga=n(1068),wa=n(1065),ha=n(1066),ba=n(1076),ya=n(1064);function Oa(){var e=Be(),a=e.state,n=e.actions,t=a.view.FieldDetails,o=n.view.FieldDetails,r=t.open,c=t.field,s=t.farm,l=o.onStatusChange;o.onEditFieldClick;return Boolean(c)||(r=!1,c={}),i.a.createElement(ra.a,{anchor:"bottom",open:r,variant:"persistent"},i.a.createElement(ze.a,{style:{paddingBottom:20}},i.a.createElement(ze.a,{style:{flexDirection:"column",alignItems:"center"}},i.a.createElement(ze.a,{style:{justifyContent:"left",flexDirection:"row",alignItems:"center",marginTop:10}},i.a.createElement(ya.a,{style:{fontWeight:"bold",fontSize:20}},c.name),i.a.createElement(ya.a,{style:{marginLeft:7,fontSize:18}},"- ".concat(Math.round(c.acres)," ac"))),null==s?null:i.a.createElement(ya.a,{style:{fontSize:15,color:"#999",marginTop:2,marginBottom:7}},s.name)),i.a.createElement(ze.a,{style:{justifyContent:"center",flexDirection:"row"}},i.a.createElement(ba.a,{component:"fieldset"},i.a.createElement(wa.a,{"aria-label":"position",name:"position",row:!0},i.a.createElement(ha.a,{value:"bottom",control:i.a.createElement(ga.a,{color:"primary",checked:"planned"==c.status||!1,onChange:function(){l({status:"planned"})}}),label:"Planned",labelPlacement:"bottom"}),i.a.createElement(ha.a,{value:"bottom",control:i.a.createElement(ga.a,{color:"primary",checked:"started"==c.status||!1,onChange:function(){l({status:"started"})}}),label:"Started",labelPlacement:"bottom"}),i.a.createElement(ha.a,{value:"bottom",control:i.a.createElement(ga.a,{color:"primary",checked:"done"==c.status||!1,onChange:function(){l({status:"done"})}}),label:"Done",labelPlacement:"bottom"}))))))}function Da(e){var a=e.acresStatus;return i.a.createElement(ze.a,{style:{backgroundColor:"#c50003",paddingLeft:7,paddingRight:7,paddingTop:5,paddingBottom:5,borderRadius:5}},i.a.createElement(ya.a,{style:{color:"white",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2}},"".concat(a.planned," ac (").concat(a.plannedPercentage,"%)")))}function ka(e){var a=e.acresStatus;return i.a.createElement(ze.a,{style:{backgroundColor:"#eeb705",paddingLeft:7,paddingRight:7,paddingTop:5,paddingBottom:5,borderRadius:5,marginRight:7,marginLeft:7}},i.a.createElement(ya.a,{style:{color:"white",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2}},"".concat(a.started," ac (").concat(a.startedPercentage,"%)")))}function Ea(e){var a=e.acresStatus;return i.a.createElement(ze.a,{style:{backgroundColor:"#5bb25f",paddingLeft:7,paddingRight:7,paddingTop:5,paddingBottom:5,borderRadius:5}},i.a.createElement(ya.a,{style:{color:"white",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2}},"".concat(a.done," ac (").concat(a.donePercentage,"%)")))}function Aa(){var e=Be().state,a=e.app.acresStatus;return e.view.TopBar.OperationDropdown.selectedOperationId?i.a.createElement(ze.a,{style:{position:"absolute",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",top:68,zIndex:401,width:"100vw"}},i.a.createElement(Da,{acresStatus:a}),i.a.createElement(ka,{acresStatus:a}),i.a.createElement(Ea,{acresStatus:a})):null}var Ma=n(1067),Fa=n(127),Ca=n(1008);function Sa(){var e=Be(),a=e.state,n=e.actions,t=a.view.Modals.SaveField,o=n.view.Modals.SaveField,r=(t.open,t.name),c=o.onNameChange,s=o.onCancel,l=o.onSave,d=i.a.useState(!1),u=Object(qe.a)(d,2),p=u[0],f=u[1],m=t.farm||{},v=t.farms;return i.a.createElement(Ma.a,{open:t.open,size:"tiny"},i.a.createElement(Ma.a.Header,null,a.view.Map.editingField?"Edit Field":"New Field"),i.a.createElement(Ma.a.Content,null,i.a.createElement(ze.a,{style:{flexDirection:"column",zIndex:1}},i.a.createElement(ya.a,{style:{marginBottom:7}},"Field Name:"),i.a.createElement(Je.a,{placeholder:"Back 40",value:r,onChange:function(e){c({name:e.target.value})}}),i.a.createElement(ya.a,{style:{marginBottom:7,marginTop:15}},"Farm:"),i.a.createElement(Xe.a,{trigger:i.a.createElement(ze.a,{style:{paddingLeft:13,paddingRight:7,border:"1px solid rgba(34,36,38,.15)",borderRadius:".28571429rem",height:38,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},i.a.createElement(ya.a,{style:{color:m.name?"rgba(0,0,0,.87)":"rgba(0,0,0,.25)"}},m.name||"Select a farm"),i.a.createElement(Fa.a,{name:"caret down",style:{paddingBottom:17}})),icon:null,onOpen:function(){f(!0)},onBlur:function(){f(!1)},open:p},i.a.createElement(Xe.a.Menu,{style:{overflow:"hidden",maxHeight:"50vh"}},i.a.createElement(Xe.a.Item,{style:{textAlign:"center"},text:"Add New Farm",value:"Add New Farm",onClick:function(e,a){o.onFarmAdd(),f(!1)}}),i.a.createElement(Je.a,{icon:"search",iconPosition:"left",className:"search",value:t.farmSearch,onChange:function(e){o.onFarmSearchChange(e.target.value)}}),i.a.createElement(Xe.a.Menu,{scrolling:!0},v.map((function(e){return i.a.createElement(Xe.a.Item,Object.assign({key:e.value},e,{onClick:function(){o.onFarmChange({id:e.value}),f(!1)}}))}))))))),i.a.createElement(Ma.a.Actions,null,i.a.createElement(Ca.a,{negative:!0,onClick:function(){return s()}},"Cancel"),i.a.createElement(Ca.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Save",onClick:function(){return l()}})))}function xa(){var e=Be(),a=e.state,n=e.actions,t=a.view.Modals.OADADomain,o=n.view.Modals.OADADomain,r=t.open,c=t.domain,s=o.onDomainChange,l=o.onCancel,d=o.onConnect;return i.a.createElement(Ma.a,{open:r,size:"tiny"},i.a.createElement(Ma.a.Header,null,"Connect to OADA Server"),i.a.createElement(Ma.a.Content,null,i.a.createElement(ya.a,null,"Domain:"),i.a.createElement(ze.a,{style:{flexDirection:"row"}},i.a.createElement(Je.a,{style:{flex:1,marginTop:7},placeholder:"https://oada.openatk.com",value:c,onChange:function(e){s({domain:e.target.value})}}))),i.a.createElement(Ma.a.Actions,null,i.a.createElement(Ca.a,{negative:!0,onClick:function(){return l()}},"Cancel"),i.a.createElement(Ca.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Connect",onClick:function(){return d({})}})))}function ja(){var e=Be(),a=e.state,n=e.actions,t=a.view.Modals.NewOperation,o=n.view.Modals.NewOperation,r=t.open,c=t.name,s=o.onNameChange,l=o.onCancel,d=o.onSave;return i.a.createElement(Ma.a,{open:r,size:"tiny"},i.a.createElement(Ma.a.Header,null,"New Operation"),i.a.createElement(Ma.a.Content,null,i.a.createElement(ya.a,null,"Name:"),i.a.createElement(ze.a,{style:{flexDirection:"row"}},i.a.createElement(Je.a,{style:{flex:1,marginTop:7},placeholder:"Corn Planting",value:c,onChange:function(e){s({name:e.target.value})}}))),i.a.createElement(Ma.a.Actions,null,i.a.createElement(Ca.a,{negative:!0,onClick:function(){return l()}},"Cancel"),i.a.createElement(Ca.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Save",onClick:function(){return d()}})))}function Ia(){var e=Be(),a=e.state,n=e.actions,t=a.view.Modals.NewFarm,o=n.view.Modals.NewFarm,r=t.open,c=t.name,s=o.onNameChange,l=o.onCancel,d=o.onSave;return i.a.createElement(Ma.a,{open:r,size:"tiny"},i.a.createElement(Ma.a.Header,null,"New Farm"),i.a.createElement(Ma.a.Content,null,i.a.createElement(ya.a,null,"Name:"),i.a.createElement(ze.a,{style:{flexDirection:"row"}},i.a.createElement(Je.a,{style:{flex:1,marginTop:7},placeholder:"Bowman Farms",value:c,onChange:function(e){s({name:e.target.value})}}))),i.a.createElement(Ma.a.Actions,null,i.a.createElement(Ca.a,{negative:!0,onClick:function(){return l()}},"Cancel"),i.a.createElement(Ca.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Save",onClick:function(){return d()}})))}var Na=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(oa,null),i.a.createElement(Aa,null),i.a.createElement(Ve,null),i.a.createElement(va,null),i.a.createElement(Oa,null),i.a.createElement(Sa,null),i.a.createElement(xa,null),i.a.createElement(ja,null),i.a.createElement(Ia,null))},Ba=Object(T.c)(Ne,{devtools:!0});s.a.render(i.a.createElement(m.a,{value:Ba},i.a.createElement(Na,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},275:function(e,a){},576:function(e,a,n){e.exports=n(1004)},581:function(e,a,n){},582:function(e,a,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},583:function(e,a,n){},584:function(e,a,n){},597:function(e,a){},599:function(e,a){},632:function(e,a){},633:function(e,a){},703:function(e,a){}},[[576,1,2]]]);
//# sourceMappingURL=main.f85a84eb.chunk.js.map